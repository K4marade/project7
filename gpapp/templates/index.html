<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GrandPy</title>
    <style>
        .input--userText{
            width: 200px;
        }
    </style>
</head>
<body>
    <h1>Bienvenue sur GrandPy Bot !</h1>

    <form id="user-text-form">
        <p>
            <label for="userText"></label>
            <input type="text" id="userText" class="input--userText" name="userText" placeholder="Tapez votre nom">
            <input type="submit" value="Envoyer">
        </p>
    </form>

    <p id="response"></p>

    <script>
        let form = document.querySelector("#user-text-form");

        function postFormData(url, data) {
            return fetch(url, {
                method: "POST",
                body: data
            })
            .then(response => response.json())
            .catch(error => console.log(error));
        }

        form.addEventListener("submit", function (event) {
            event.preventDefault();
            console.log("Votre question a bien été envoyée");

            //Envoyer le formulaire au serveur
            postFormData("/question", new FormData(form))
            .then(response => {
                document.getElementById("response").innerHTML = "Bonjour " + response;
            })
        })
    </script>
</body>
</html>
